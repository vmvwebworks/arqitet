<div class="mb-6 <%= message.user == current_user ? 'flex justify-end' : 'flex justify-start' %>">
  <div class="flex items-start gap-3 max-w-2xl">
    <!-- Avatar del usuario -->
    <div class="flex-shrink-0">
      <span class="inline-flex items-center justify-center rounded-full bg-gray-400 text-white font-bold w-8 h-8 text-sm">
        <%= message.user.full_name.first.upcase %>
      </span>
    </div>
    
    <!-- Contenido del mensaje -->
    <div class="flex-grow">
      <div class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-sm font-medium text-gray-900"><%= message.user.full_name %></span>
          <span class="text-xs text-gray-500"><%= message.created_at.strftime("%H:%M Â· %d %b") %></span>
        </div>
        <div class="text-gray-800 leading-relaxed">
          <%= simple_format(message.body, {}, wrapper_tag: "div") %>
        </div>
      </div>
    </div>
  </div>
</div>
